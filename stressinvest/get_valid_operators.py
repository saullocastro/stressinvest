operators = [
'Cryptsy',
'BTCChina',
'Bitstamp',
'BTER',
'OKCoin',
'Coinbase',
'Poloniex',
'Cexio',
'BTCE',
'BitTrex',
'Kraken',
'Bitfinex',
'Yacuna',
'LocalBitcoins',
'Yunbi',
'itBit',
'HitBTC',
'btcXchange',
'BTC38',
'Coinfloor',
'Huobi',
'CCCAGG',
'LakeBTC',
'ANXBTC',
'Bit2C',
'Coinsetter',
'CCEX',
'Coinse',
'MonetaGo',
'Gatecoin',
'Gemini',
'CCEDK',
'Cryptopia',
'Exmo',
'Yobit',
'Korbit',
'BitBay',
'BTCMarkets',
'Coincheck',
'QuadrigaCX',
'BitSquare',
'Vaultoro',
'MercadoBitcoin',
'Bitso',
'Unocoin',
'BTCXIndia',
'Paymium',
'TheRockTrading',
'bitFlyer',
'Quoine',
'Luno',
'EtherDelta',
'bitFlyerFX',
'TuxExchange',
'CryptoX',
'Liqui',
'MtGox',
'BitMarket',
'LiveCoin',
'Coinone',
'Tidex',
'Bleutrade',
'EthexIndia',
'Bithumb',
'CHBTC',
'ViaBTC',
'Jubi',
'Zaif',
'Novaexchange',
'WavesDEX',
'Binance',
'Lykke',
'Remitano',
'Coinroom',
'Abucoins',
'BXinth',
'Gateio',
'HuobiPro',
'OKEX',
]

from cryptocompare import query_cryptocompare
import time

for op in operators:
    URL_PRICE_MULTI_FULL = 'https://min-api.cryptocompare.com/data/histohour?fsym=BTC&tsym=USD&limit=60&aggregate=3&e={operator}'.format(operator=op)
    a = {}
    try:
        a = query_cryptocompare(URL_PRICE_MULTI_FULL, errorCheck=False)
    except:
        pass
    if a.get('Response') == 'Success':
        print("u'%s'," % op)
    time.sleep(1)

